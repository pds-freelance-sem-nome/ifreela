{
  "name": "IFreela Backend",

  // Faz o Dev Container usar o docker-compose
  "dockerComposeFile": [
    "../../docker-compose.yml"
  ],
  "service": "backend",
  "workspaceFolder": "/app",

  // Nome fixo do container de dev
  "containerName": "ifreela-backend-dev",

  "forwardPorts": [8080, 5005],

  "postCreateCommand": "./mvnw clean install -DskipTests",

  "customizations": {
    "vscode": {
      "settings": {
        "java.configuration.checkProjectSettingsExclusions": false,
        "java.import.gradle.enabled": false,
        "java.import.maven.enabled": true,
        "java.compile.nullAnalysis.mode": "automatic",
        "editor.formatOnSave": true,
        "[java]": {
          "editor.defaultFormatter": "redhat.java"
        }
      },
      "extensions": [
        "vscjava.vscode-java-pack",
        "vscjava.vscode-spring-initializr",
        "vscjava.vscode-spring-boot-dashboard",
        "vscjava.vscode-spring-boot",
        "pivotal.vscode-spring-boot",
        "github.vscode-github-actions"
      ]
    }
  },

  "remoteUser": "root"
}
